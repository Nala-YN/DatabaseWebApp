{"ast":null,"code":"import { ElMessage } from 'element-plus';\nexport default {\n  data() {\n    return {\n      title: \"\",\n      content: \"\"\n    };\n  },\n  methods: {\n    submitForm() {\n      this.$http.post('/api/uploadpost', {\n        user_id: this.$store.getters.status.userid,\n        title: this.title,\n        content: this.content\n      }).then(response => {\n        if (response.data.success) {\n          ElMessage({\n            message: \"发布成功\",\n            type: \"success\"\n          });\n        } else {\n          ElMessage({\n            message: \"发布失败\" + response.data.message,\n            type: \"error\"\n          });\n        }\n      }).catch(error => {});\n    },\n    resetForm(formName) {\n      this.title = \"\";\n      this.content = \"\";\n    }\n  }\n};","map":{"version":3,"names":["ElMessage","data","title","content","methods","submitForm","$http","post","user_id","$store","getters","status","userid","then","response","success","message","type","catch","error","resetForm","formName"],"sources":["C:\\Users\\faq\\Desktop\\DatabaseWebApp\\client\\src\\components\\AddPost.vue"],"sourcesContent":["<template>\r\n    <div class=\"container\">\r\n      <h1>发布您的帖子</h1>\r\n      <el-form class=\"form\" ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n        <el-form-item label=\"标题\">\r\n          <el-input v-model=\"title\" placeholder=\"请输入标题\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"内容\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            v-model=\"content\"\r\n            placeholder=\"请输入内容\"\r\n            :autosize=\"{ minRows: 10, maxRows: 20 }\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"submitForm('form')\">发布</el-button>\r\n          <el-button @click=\"resetForm('form')\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\nimport { ElMessage } from 'element-plus';\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n          title: \"\",\r\n          content: \"\",\r\n      };\r\n    },\r\n    methods: {\r\n      submitForm() {\r\n        this.$http.post('/api/uploadpost',{\r\n          user_id:this.$store.getters.status.userid,\r\n          title:this.title,\r\n          content:this.content\r\n        }).then(response=>{\r\n          if(response.data.success){\r\n            ElMessage({message:\"发布成功\",type:\"success\"})\r\n          }\r\n          else{\r\n            ElMessage({message:\"发布失败\"+response.data.message,type:\"error\"})\r\n          }\r\n        }).catch(error=>{\r\n          \r\n        })\r\n\r\n      },\r\n      resetForm(formName) {\r\n        this.title=\"\";\r\n        this.content=\"\";\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    height: 100vh;\r\n  }\r\n  \r\n  h1 {\r\n    font-size: 24px;\r\n  }\r\n  \r\n  .form {\r\n    width: 75%;\r\n  }\r\n  </style>\r\n  \r\n  "],"mappings":"AAwBA,SAASA,SAAQ,QAAS,cAAc;AAEtC,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACHC,KAAK,EAAE,EAAE;MACTC,OAAO,EAAE;IACb,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,UAAUA,CAAA,EAAG;MACX,IAAI,CAACC,KAAK,CAACC,IAAI,CAAC,iBAAiB,EAAC;QAChCC,OAAO,EAAC,IAAI,CAACC,MAAM,CAACC,OAAO,CAACC,MAAM,CAACC,MAAM;QACzCV,KAAK,EAAC,IAAI,CAACA,KAAK;QAChBC,OAAO,EAAC,IAAI,CAACA;MACf,CAAC,CAAC,CAACU,IAAI,CAACC,QAAQ,IAAE;QAChB,IAAGA,QAAQ,CAACb,IAAI,CAACc,OAAO,EAAC;UACvBf,SAAS,CAAC;YAACgB,OAAO,EAAC,MAAM;YAACC,IAAI,EAAC;UAAS,CAAC;QAC3C,OACI;UACFjB,SAAS,CAAC;YAACgB,OAAO,EAAC,MAAM,GAACF,QAAQ,CAACb,IAAI,CAACe,OAAO;YAACC,IAAI,EAAC;UAAO,CAAC;QAC/D;MACF,CAAC,CAAC,CAACC,KAAK,CAACC,KAAK,IAAE,CAEhB,CAAC;IAEH,CAAC;IACDC,SAASA,CAACC,QAAQ,EAAE;MAClB,IAAI,CAACnB,KAAK,GAAC,EAAE;MACb,IAAI,CAACC,OAAO,GAAC,EAAE;IACjB;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}